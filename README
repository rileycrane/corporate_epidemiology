# ** PYTHON SIR
# http://wiki.deductivethinking.com/wiki/Program_7.4

################################################################################
# ** REQUIREMENTS
python
django
python-numpy

################################################################################
# ** GETTING STARTED
* INSTALL ABOVE REQUIREMENTS

* SET ENVIRONMENT VARIABLES:
>>>export DJANGO_SETTINGS_MODULE=coporate_epidemiology.settings

* SET UP THE DATABASE
>>>python manage.py syncdb

DEFINE YOUR CALCULATION IN 'simulations/calculations.py'
THEN RUN YOUR CALCULATION
>>>python simulations/calculations.py

################################################################################
# ** SPECIFY PARAMETERS (in parameters.py)
#  Each simulation requires (i, t_min, t_max, alpha, beta)
#	Y0    = [id1, id2, ...] where each id = individual to be infected
#		  = [id1]
#		  = [id1, id3, id4]
#		  = 10 # Randomly select 10 individuals 
		
#	t_min = Minimum valid contact time
#	t_max = Maximum valid contact time
#	beta  = probability of disease transmission
#	gamma = recovery rate
#   function [t,X,Y] = Program_SIR(N, Size, beta, gamma, alpha , Y0, timestep, MaxTime)


##################################################
# ** CREATING THE INITIAL DATA
# run: simulations.initial_processing.load_individuals

# ** DUMPING THE INITIAL DATA
# python manage.py dumpdata simulations > simulations/fixtures/initial_data.json




####################################################
# ** COMMON ERRORS
Traceback (most recent call last):
  File "simulations/initial_processing.py", line 7, in <module>
    from simulations.models import *
  File "/home/rcrane/local/django/django_projects/corporate_epidemiology/simulations/models.py", line 1, in <module>
    from django.db import models
  File "/usr/lib/pymodules/python2.6/django/db/__init__.py", line 14, in <module>
    if not settings.DATABASES:
  File "/usr/lib/pymodules/python2.6/django/utils/functional.py", line 276, in __getattr__
    self._setup()
  File "/usr/lib/pymodules/python2.6/django/conf/__init__.py", line 38, in _setup
    raise ImportError("Settings cannot be imported, because environment variable %s is undefined." % ENVIRONMENT_VARIABLE)
ImportError: Settings cannot be imported, because environment variable DJANGO_SETTINGS_MODULE is undefined.

at the command line (or however you manage your environment variables)
	set the following variable: DJANGO_SETTINGS_MODULE = corporate_epidemiology.settings 
	for example in linux: export DJANGO_SETTINGS_MODULE=corporate_epidemiology.settings
	
--------------------------------------------------------------------------------------
	